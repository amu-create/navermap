<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>네이버 지도 API 테스트</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=me6liq8hnh&submodules=geocoder"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>네이버 지도 API 테스트</h1>
        <div class="map-controls">
            <input type="text" id="search-input" placeholder="장소 검색">
            <button id="search-btn">검색</button>
            <button id="current-location">현재 위치</button>
        </div>
        <div id="map"></div>
        <div id="info-panel">
            <h2>장소 정보</h2>
            <div id="place-info">장소를 검색하거나 지도에서 마커를 클릭하세요.</div>
            <p class="note">※ 참고: 이 페이지는 로컬에서만 동작합니다. 네이버 클라우드 플랫폼에서 도메인 등록이 필요합니다.</p>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        // 추가 오류 핸들링
        window.onerror = function(message, source, lineno, colno, error) {
            if (message.includes('Authentication') || message.includes('인증')) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.innerHTML = `
                    <h3>네이버 지도 API 인증 오류</h3>
                    <p>네이버 클라우드 플랫폼에서 다음 URL을 등록해야 합니다:</p>
                    <code>${window.location.origin}</code>
                    <p>자세한 내용은 <a href="https://api.ncloud-docs.com/docs/ko/application-maps-overview" target="_blank">네이버 클라우드 플랫폼 문서</a>를 참조하세요.</p>
                `;
                document.querySelector('.container').prepend(errorDiv);
            }
            return false;
        };
    </script>
</body>
</html>